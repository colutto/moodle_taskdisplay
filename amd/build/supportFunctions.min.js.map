{"version":3,"sources":["../src/supportFunctions.js"],"names":["data","changeChart","my_data","keys","Object","i","length","values","index","object","push","key","value","unshift","renewDiv","divName","element","document","getElementById","parent","parentNode","wrapper","createElement","setAttribute","replaceChild","chartType","chartholder","d3","select","myChart","d3x3d","chart","areaChartMultiSeries","barChartVertical","bubbleChart","particlePlot","scatterPlot","surfacePlot","ribbonChartMultiSeries","barChartMultiSeries","datum","call","window","x3dom","reload"],"mappings":"miBA2DO,SAAyBA,CAAzB,CAA8B,CACjCC,CAAW,CAAC,aAAD,CAAgB,sBAAhB,CAAwCD,CAAxC,CACd,C,mBACM,SAAyBA,CAAzB,CAA8B,CAK7B,OAJAE,CAAAA,CAAO,CAAG,EAIV,CAHAC,CAAI,CAAGC,MAAM,CAACD,IAAP,CAAYH,CAAZ,CAGP,CAASK,CAAC,CAAC,CAAX,CAAcA,CAAC,CAACF,CAAI,CAACG,MAArB,CAA6BD,CAAC,EAA9B,CAAiC,IAGzBE,CAAAA,CAAM,CAAG,EAHgB,CAIzBC,CAAK,CAAG,CAJiB,CAK7B,GAAG,CAACR,CAAI,CAACG,CAAI,CAACE,CAAD,CAAL,CAAJ,cAAJ,CAAmC,CAI/B,IAAK,GAAII,CAAAA,CAAT,GAAmBT,CAAAA,CAAI,CAACG,CAAI,CAACE,CAAD,CAAL,CAAvB,CAAiC,CAI7B,GAAW,uBAAR,EAAAI,CAAM,EAAqC,uBAAR,EAAAA,CAAnC,EAA8E,eAAR,EAAAA,CAAzE,CAAiG,CAE7F,GAA2B,WAAvB,EAAAT,CAAI,CAACG,CAAI,CAACE,CAAD,CAAL,CAAJ,CAAcI,CAAd,CAAJ,CAAuC,CACnCF,CAAM,CAACG,IAAP,CAAY,CAACC,GAAG,CAAE,KAAKH,CAAX,CAAkBI,KAAK,CAAE,GAAzB,CAAZ,CACH,CAFD,IAEM,CACFL,CAAM,CAACG,IAAP,CAAY,CAACC,GAAG,CAAE,KAAKH,CAAX,CAAkBI,KAAK,CAAE,CAAzB,CAAZ,CACH,CACDJ,CAAK,EAAI,CACZ,CACJ,CACJ,CAlBD,IAkBO,CAEHD,CAAM,CAACG,IAAP,CAAY,CAACC,GAAG,CAAE,KAAKH,CAAX,CAAkBI,KAAK,CAAE,CAAzB,CAAZ,CAEH,CACDV,CAAO,CAACW,OAAR,CAAgB,CAACF,GAAG,CAAER,CAAI,CAACE,CAAD,CAAV,CAAeE,MAAM,CAAEA,CAAvB,CAAhB,CAGH,CACD,MAAOL,CAAAA,CACd,C,CApGD,OACA,O,siBAQO,QAASY,CAAAA,CAAT,CAAkBC,CAAlB,CAA0B,IACzBC,CAAAA,CAAO,CAAGC,QAAQ,CAACC,cAAT,CAAwBH,CAAxB,CADe,CAEzBI,CAAM,CAAGH,CAAO,CAACI,UAFQ,CAGzBC,CAAO,CAAGJ,QAAQ,CAACK,aAAT,CAAuB,KAAvB,CAHe,CAI7BD,CAAO,CAACE,YAAR,CAAqB,IAArB,CAA2BR,CAA3B,EACAI,CAAM,CAACK,YAAP,CAAoBH,CAApB,CAA6BL,CAA7B,CACH,CAQM,QAASf,CAAAA,CAAT,CAAqBc,CAArB,CAA8BU,CAA9B,CAAyCzB,CAAzC,CAA8C,CAIjDc,CAAQ,CAACC,CAAD,CAAR,CACA,GAAIW,CAAAA,CAAW,CAAGC,CAAE,CAACC,MAAH,CAAU,IAAMb,CAAhB,CAAlB,CACA,OAAQU,CAAR,EACI,IAAK,sBAAL,CACI,GAAII,CAAAA,CAAO,CAAGC,CAAK,CAACC,KAAN,CAAYC,oBAAZ,EAAd,CACA,MACJ,IAAK,kBAAL,CACI,GAAIH,CAAAA,CAAO,CAAGC,CAAK,CAACC,KAAN,CAAYE,gBAAZ,EAAd,CACA,MACJ,IAAK,aAAL,CACI,GAAIJ,CAAAA,CAAO,CAAGC,CAAK,CAACC,KAAN,CAAYG,WAAZ,EAAd,CACA,MACJ,IAAK,cAAL,CACI,GAAIL,CAAAA,CAAO,CAAGC,CAAK,CAACC,KAAN,CAAYI,YAAZ,EAAd,CACA,MACJ,IAAK,aAAL,CACI,GAAIN,CAAAA,CAAO,CAAGC,CAAK,CAACC,KAAN,CAAYK,WAAZ,EAAd,CACA,MACJ,IAAK,aAAL,CACI,GAAIP,CAAAA,CAAO,CAAGC,CAAK,CAACC,KAAN,CAAYM,WAAZ,EAAd,CACA,MACJ,IAAK,wBAAL,CACI,GAAIR,CAAAA,CAAO,CAAGC,CAAK,CAACC,KAAN,CAAYO,sBAAZ,EAAd,CACA,MACJ,QACI,GAAIT,CAAAA,CAAO,CAAGC,CAAK,CAACC,KAAN,CAAYQ,mBAAZ,EAAd,CACA,MAxBR,CA0BA,GAAIV,CAAAA,CAAO,CAAGC,CAAK,CAACC,KAAN,CAAYE,gBAAZ,EAAd,CACAP,CAAW,CAACc,KAAZ,CAAkBxC,CAAlB,EAAwByC,IAAxB,CAA6BZ,CAA7B,EACAa,MAAM,CAACC,KAAP,CAAaC,MAAb,EACH,C","sourcesContent":["import * as d3 from './d3-x3d_library/d3';\nimport * as d3x3d from './d3-x3d_library/d3-x3d';\nimport 'block_taskdisplay/x3dom';\n\n/**\n * Renews the HTML Element when the chart is getting changed because the variables of the HTML\n * Element have to be deleted.\n * @param divName The id-Name of the HTML Element which should get deleted.\n */\nexport function renewDiv(divName){\n    var element = document.getElementById(divName);\n    var parent = element.parentNode;\n    var wrapper = document.createElement('div');\n    wrapper.setAttribute('id', divName);\n    parent.replaceChild(wrapper, element);\n}\n\n/**\n * Changes the chart of the X3DOM scene.\n * @param divName The id-Name of the HTML Element in which the X3DOM chart is displayed.\n * @param chartType The type of the new chart.\n * @param data The data for the new chart.\n */\nexport function changeChart(divName, chartType, data){\n    // if (changeChart){\n    // renewDiv(divName);\n    // }\n    renewDiv(divName);\n    var chartholder = d3.select('#' + divName);\n    switch (chartType){\n        case 'areaChartMultiSeries':\n            var myChart = d3x3d.chart.areaChartMultiSeries();\n            break;\n        case 'barChartVertical':\n            var myChart = d3x3d.chart.barChartVertical();\n            break;\n        case 'bubbleChart':\n            var myChart = d3x3d.chart.bubbleChart();\n            break;\n        case 'particlePlot':\n            var myChart = d3x3d.chart.particlePlot();\n            break;\n        case 'scatterPlot':\n            var myChart = d3x3d.chart.scatterPlot();\n            break;\n        case 'surfacePlot':\n            var myChart = d3x3d.chart.surfacePlot();\n            break;\n        case 'ribbonChartMultiSeries':\n            var myChart = d3x3d.chart.ribbonChartMultiSeries();\n            break;\n        default:\n            var myChart = d3x3d.chart.barChartMultiSeries();\n            break;\n    }\n    var myChart = d3x3d.chart.barChartVertical();\n    chartholder.datum(data).call(myChart);\n    window.x3dom.reload();\n}\nexport function initialiseChart(data){\n    changeChart('chartholder', 'areaChartMultiSeries', data);\n}\nexport function convertJSONData(data){\n    var my_data = [];\n    var keys = Object.keys(data);\n    // alert(Object.keys(data).length);\n    // if(!supportFunct.isEmpty(data)){\n        for (var i=0; i<keys.length; i++){\n            // loops through all the user enrolled courses.\n            // alert('key: '+keys[i]);\n            var values = [];\n            var index = 1;\n            if(!data[keys[i]]['noAssignments']){\n            /* if there aren't any assignments at the moment it should fill in the\n            key variable for the chart with an empty string, because the chart needs at least\n            an empty string to function accordingly*/\n                for (var object in data[keys[i]]){\n                    // loops through all the course related assignments.\n                    // alert(object+' '+data[keys[i]][object]);\n                    // if(data[keys[i]]['number_of_assignments']!=0){\n                    if(object!='number_of_assignments' && object!='submitted_assignments' && object!='noAssignments'){\n                        /**checks if the object is an assingment or just some additional information of the course */\n                        if (data[keys[i]][object]=='submitted'){\n                            values.push({key: 'EA'+index, value: 100});\n                        }else {\n                            values.push({key: 'EA'+index, value: 0});\n                        }\n                        index += 1;\n                    }\n                }\n            } else {\n                // if the values array is empty it gets default parameters.\n                values.push({key: 'EA'+index, value: 0});\n                //TODO try to get rid of the EA statement when there are no assingments stored for the course\n            }\n            my_data.unshift({key: keys[i], values: values});\n            /**insert the value array with the corresponding key to the mydata array\n             * which will then be given to the chart method for visualization */\n        }\n        return my_data;\n}\n// export function convertAJAXData(data){\n//     var my_data = [];\n//     for(var key in data) {\n//         var course = data[key];\n//         var values_assignments = [];\n//         var index = 1;\n//         if(!course.noAssignments){\n//             for(var assignment_key in course.assignments){\n//                 var assignment = course.assignments[assignment_key];\n//                 if(assignment.is_submitted == 'submitted'){\n//                     values_assignments.push({key: 'EA'+index, value: 100});\n//                 }else{\n//                     values_assignments.push({key: 'EA'+index, value: 0});\n//                 }\n//                 index++;\n//             }\n//         } else{\n//             values_assignments.push({key: 'EA'+index, value: 0});\n//         }\n//         my_data.unshift({key: course.course_name, values: values_assignments});\n//         alert(course.user_count);\n//     }\n//     return my_data;\n// }"],"file":"supportFunctions.min.js"}