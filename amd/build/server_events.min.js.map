{"version":3,"sources":["../src/server_events.js"],"names":["EventSource","source","addEventListener","document","getElementById","innerHTML"],"mappings":"0JAQO,UAAkB,CACrB,GAA2B,WAAxB,QAAOA,CAAAA,WAAV,CAAwC,CAGpC,GAAIC,CAAAA,CAAM,CAAG,GAAID,CAAAA,WAAJ,CAAgB,iEAAhB,CAAb,CACAC,CAAM,CAACC,gBAAP,CAAwB,QAAxB,CAAkC,UAAU,CACxCC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,SAAhC,CAA4C,yBAA5C,CAOA,sBACH,CATD,CAUC,CAdL,IAcW,CACHF,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,SAAhC,CAA4C,4DAC/C,CACR,C","sourcesContent":["/**\n * Function to establish the connection for the Server-Side Events between the Server and the Client.\n */\n// import * as ajaxcalls from './ajaxcalls';\n// import * as supportFunct from './supportFunctions';\n// import * as d3 from './d3-x3d_library/d3';\n// import * as d3x3d from './d3-x3d_library/d3-x3d';\nimport { get_chart_data } from './ajaxcalls';\nexport function connect(){\n    if(typeof(EventSource) !== \"undefined\") {\n        // checks if the Server support Server-Side Events\n        //TODO change the hostname to a dynamic hostname function.\n        var source = new EventSource(\"http://localhost:8080/moodle/blocks/taskdisplay/server_sent.php\");\n        source.addEventListener('update', function(){\n            document.getElementById('test').innerHTML = 'server sent event works';\n            // var my_data = ajaxcalls.get_chart_data();\n            // supportFunct.renewDiv('chartholder');\n            // var chartholder = d3.select('#chartholder');\n            // var mychart = d3x3d.chart.areaChartMultiSeries();\n            // chartholder.datum(my_data).call(mychart);\n            // window.x3dom.reload();\n            get_chart_data();\n        });\n        } else {\n            document.getElementById(\"test\").innerHTML = \"Sorry, your browser does not support server-sent events...\";\n        }\n}"],"file":"server_events.min.js"}