{"version":3,"sources":["../src/server_events.js"],"names":["EventSource","source","addEventListener","document","getElementById","innerHTML","ajaxcalls","get_chart_data"],"mappings":"6bAIO,UAAkB,CACrB,GAA2B,WAAxB,QAAOA,CAAAA,WAAV,CAAwC,CAGpC,GAAIC,CAAAA,CAAM,CAAG,GAAID,CAAAA,WAAJ,CAAgB,iEAAhB,CAAb,CACAC,CAAM,CAACC,gBAAP,CAAwB,QAAxB,CAAkC,UAAU,CACxCC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,SAAhC,CAA4C,yBAA5C,CAEAC,CAAS,CAACC,cAAV,EACH,CAJD,CAKC,CATL,IASW,CACHJ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,SAAhC,CAA4C,4DAC/C,CACR,C,CAdD,O","sourcesContent":["/**\n * Function to establish the connection for the Server-Side Events between the Server and the Client.\n */\nimport * as ajaxcalls from './ajaxcalls';\nexport function connect(){\n    if(typeof(EventSource) !== \"undefined\") {\n        // checks if the Server support Server-Side Events\n        //TODO change the hostname to a dynamic hostname function.\n        var source = new EventSource(\"http://localhost:8080/moodle/blocks/taskdisplay/server_sent.php\");\n        source.addEventListener('update', function(){\n            document.getElementById('test').innerHTML = 'server sent event works';\n\n            ajaxcalls.get_chart_data();\n        });\n        } else {\n            document.getElementById(\"test\").innerHTML = \"Sorry, your browser does not support server-sent events...\";\n        }\n}"],"file":"server_events.min.js"}